// This code was generated by the hat image converter. DO NOT EDIT.
#include <FastLED.h>
#include <Arduino.h>
#include "gamma.h"

#define STRIP_LEN {{.NumPixels}}

//Static images
{{range .Pg}}
const uint32_t {{.Name | ToUpper}}[] PROGMEM = { {{range .ColorData}}{{.}},{{end}} };
{{end}}
const char* ART_LIST[] PROGMEM = { {{range .Pg}} "{{.Name}}", {{end}} };
const uint ART_COUNT = {{len .Pg}};

//Gifs
{{range .Gifs}}
{{$name := .Name}}
{{range $idx, $f := .Frames}}
const uint32_t {{$name | ToUpper}}_{{$idx}}[] PROGMEM = { {{range $f}}{{.}},{{end}} };
{{end}}
{{end}}
const char* GIF_LIST[] PROGMEM = { {{range .Gifs}} "{{.Name}}", {{end}} };
const uint GIF_COUNT = {{len .Gifs}};


//GIF Flags
String gifName = "";
bool renderGif = false;

void playGif(CRGB *strip, String name) {
    {{range $_, $gif := .Gifs}}
    if(name == "{{$gif.Name}}") {
        {{range $idx, $_ := $gif.Frames}}
        if(!renderGif) return;
        for(int i = 0; i < {{$.NumPixels}}; i++) {
            strip[i] = CRGB(gamma32({{$gif.Name | ToUpper}}_{{$idx}}[i]));
        }
        FastLED.show();
        delay({{index $gif.Delay $idx}}*10);
        {{end}}
    }
    {{end}}
}

void switchGrid(CRGB *strip, String name) {
    {{range .Pg}}
    if(name == "{{.Name}}") {
        for(int i = 0; i < {{$.NumPixels}}; i++) {
            strip[i] = CRGB(gamma32({{.Name | ToUpper}}[i]));
        }
        FastLED.show();
        return;
    }
    {{end}}
}